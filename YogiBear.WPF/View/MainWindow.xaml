<Window x:Class="YogiBear.WPF.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:YogiBear.WPF"
        mc:Ignorable="d"
        Title="Yogi Bear Game" Height="450" Width="800"
        MinWidth="400" MinHeight="300">
    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVisibility" />
    </Window.Resources>
    <Window.InputBindings>
        <KeyBinding Key="Left" Command="{Binding MovePlayerCommand}" CommandParameter="LEFT"/>
        <KeyBinding Key="Right" Command="{Binding MovePlayerCommand}" CommandParameter="RIGHT"/>
        <KeyBinding Key="Up" Command="{Binding MovePlayerCommand}" CommandParameter="UP"/>
        <KeyBinding Key="Down" Command="{Binding MovePlayerCommand}" CommandParameter="DOWN"/>


        <KeyBinding Key="A" Command="{Binding MovePlayerCommand}" CommandParameter="LEFT"/>
        <KeyBinding Key="D" Command="{Binding MovePlayerCommand}" CommandParameter="RIGHT"/>
        <KeyBinding Key="W" Command="{Binding MovePlayerCommand}" CommandParameter="UP"/>
        <KeyBinding Key="S" Command="{Binding MovePlayerCommand}" CommandParameter="DOWN"/>


        <KeyBinding Key="Enter" Command="{Binding PauseCommand}"/>
        <KeyBinding Key="Space" Command="{Binding PauseCommand}"/>
    </Window.InputBindings>
    <Viewbox Stretch="Uniform">
        <Grid>
            <StackPanel x:Name="MainMenuPanel" Visibility="{Binding IsMainMenuVisible, Converter={StaticResource BoolToVisibility}}" 
                        Orientation="Vertical"  VerticalAlignment="Center" HorizontalAlignment="Center" Margin="0,40">
                <Button Content="New Game" FontSize="14" Command="{Binding NewGameCommand}" Width="100" Margin="5"/>
                <Button Content="Load Game" FontSize="14" Command="{Binding LoadGameCommand}" Width="100" Margin="5"/>
                <Button Content="Save Game" FontSize="14" Command="{Binding SaveGameCommand}" Width="100" Margin="5"/>
                <Button Content="Exit" FontSize="14" Command="{Binding ExitGameCommand}" Width="100" Margin="5"/>
            </StackPanel>
            <StackPanel  x:Name="DifficultySelectionPanel"  Visibility="{Binding IsDifficultySelectionVisible, Converter={StaticResource BoolToVisibility}}" 
                         Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center" Margin="40">
                <Button Content="Easy" FontSize="14" Command="{Binding EasyModeCommand}" Width="100" Margin="5" />
                <Button Content="Medium" FontSize="14" Command="{Binding MediumModeCommand}" Width="100" Margin="5" />
                <Button Content="Hard" FontSize="14" Command="{Binding HardModeCommand}" Width="100" Margin="5" />
            </StackPanel>
            <Grid x:Name="GamePanel" Visibility="{Binding IsGamePanelVisible, Converter={StaticResource BoolToVisibility}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="200"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="1" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="10">
                    <TextBlock Text="Game information" FontSize="16" FontWeight="Bold" Margin="0,0,0,10" />
                    <TextBlock Text="Time Elapsed:" FontWeight="Bold"/>
                    <TextBlock Text="{Binding ElapsedTime, Mode=OneWay}" FontSize="14" Margin="0,5,0,10" />
                    <TextBlock Text="Collected Baskets:" FontWeight="Bold"/>
                    <TextBlock Text="{Binding CollectedBaskets, Mode=OneWay}" FontSize="14" Margin="0,5,0,10" />
                </StackPanel>
                <StackPanel Grid.Column="1" HorizontalAlignment="Left" VerticalAlignment="Bottom" Margin="10">
                    <TextBlock Text="Move with the arrow keys or WASD!" FontSize="10" Margin="0,5,0,10"/>
                    <TextBlock Text="Press Enter or Space to pause." FontSize="10" Margin="0,5,0,10"/>
                </StackPanel>

                <ItemsControl ItemsSource="{Binding GameGrid, Mode=OneWay}" HorizontalAlignment="Center" VerticalAlignment="Center">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <UniformGrid Rows="{Binding BoardSize, Mode=OneWay}" Columns="{Binding BoardSize, Mode=OneWay}"/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Rectangle Fill="{Binding BackgroundColor, Mode=OneWay}" Width="30" Height="30" Stroke="Black" />
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </Grid>
        </Grid>
    </Viewbox>
</Window>
